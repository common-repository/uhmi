!function(){"use strict";function e(t){return-1<t.indexOf("<p>[uhmi]</p>")}tinymce.create("tinymce.plugins.Uhmi",{init:function(t,i){t.addButton("Uhmi",{title:UHMI_TINYMCE_BUTTON_TITLE,onclick:function(){this.active(!this.active()),t.execCommand("wrapWithUhmiShortcode")},onPostRender:function(){var i=this;t.on("NodeChange",function(t){e(tinymce.activeEditor.getContent())&&i.active(!0)})}}),t.addCommand("wrapWithUhmiShortcode",function(){var t,i=tinymce.activeEditor.getContent(),n=tinyMCE.activeEditor.selection.getContent();e(i)?(t=i.replace("<p>[uhmi]</p>","").replace("<p>[/uhmi]</p>",""),tinyMCE.activeEditor.setContent(t)):(t="<p>[uhmi]</p>",n&&(t+=n+"<p>[/uhmi]</p>"),tinyMCE.activeEditor.selection.setContent(t))})}}),tinymce.PluginManager.add("Uhmi",tinymce.plugins.Uhmi)}();